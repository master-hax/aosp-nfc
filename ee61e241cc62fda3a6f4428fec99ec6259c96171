{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ce223af4_c84a2c52",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1074459
      },
      "writtenOn": "2024-09-13T20:24:42Z",
      "side": 1,
      "message": "I\u0027m seeing a NFC stack crash with this topic:\n\n```\nCheck failed: search !\u003d values_.end()\n\nsignal 6 (SIGABRT)\n../libnfc_nci_jni.so (ConfigFile::getValue)\n../libnfc_nci_jni.so (NfcConfig::getBytes)\n../libnfc_nci_jni.so (HciEventManager::initialize)\n../libnfc_nci_jni.so (android::nfcManager_doInitialize)\n```\n\n```\n Build fingerprint: \u0027generic/aosp_cf_x86_64_only_phone/vsoc_x86_64_only:VanillaIceCream/MAIN.3f944984/P80946622:userdebug/test-keys\u0027 \n Revision: \u00270\u0027 \n ABI: \u0027x86_64\u0027 \n Timestamp: 2024-09-13 19:54:36.943160242+0000 \n Process uptime: 2s \n Cmdline: com.android.nfc \n pid: 10767, tid: 10787, name: AsyncTask #1  \u003e\u003e\u003e com.android.nfc \u003c\u003c\u003c \n uid: 1027 \n signal 6 (SIGABRT), code -1 (SI_QUEUE), fault addr -------- \n Abort message: \u0027Check failed: search !\u003d values_.end() \u0027 \n     rax 0000000000000000  rbx 0000000000002a0f  rcx 00007c303bb4cba4  rdx 0000000000000006 \n     r8  0000000000000006  r9  0000000000000006  r10 00007c2d556a9e90  r11 0000000000000203 \n     r12 00007c2f88a54290  r13 0000000000000029  r14 0000000000002a23  r15 00007c2f88a55050 \n     rdi 0000000000002a0f  rsi 0000000000002a23 \n     rbp 00007c2d556a9f30  rsp 00007c2d556a9e90  rip 00007c303bb4cba4 \n 29 total frames \n backtrace: \n       #00 pc 0000000000059ba4  /apex/com.android.runtime/lib64/bionic/libc.so (abort+196) (BuildId: 4b8bcb3cb83660bd5eb57accf08947e0) \n       #01 pc 0000000000013f2d  /system/lib64/libbase.so (android::base::DefaultAborter(char const*)+13) (BuildId: 146a387854d5a4c9d124e6ee7bfdfbb5) \n       #02 pc 0000000000015fa1  /system/lib64/libbase.so (android::base::SetAborter(std::__1::function\u003cvoid (char const*)\u003e\u0026\u0026)::$_0::__invoke(char const*)+65) (BuildId: 146a387854d5a4c9d124e6ee7bfdfbb5) \n       #03 pc 0000000000015486  /system/lib64/libbase.so (android::base::LogMessage::~LogMessage()+502) (BuildId: 146a387854d5a4c9d124e6ee7bfdfbb5) \n       #04 pc 00000000001e3b40  /apex/com.android.nfcservices/lib64/libnfc_nci_jni.so (ConfigFile::getValue(std::__1::basic_string\u003cchar, std::__1::char_traits\u003cchar\u003e, std::__1::allocator\u003cchar\u003e\u003e const\u0026)+336) (BuildId: 57ecf71546d5d1bffde15491e8454395) \n       #05 pc 00000000001b6c4f  /apex/com.android.nfcservices/lib64/libnfc_nci_jni.so (NfcConfig::getBytes(std::__1::basic_string\u003cchar, std::__1::char_traits\u003cchar\u003e, std::__1::allocator\u003cchar\u003e\u003e const\u0026)+63) (BuildId: 57ecf71546d5d1bffde15491e8454395) \n       #06 pc 000000000010b883  /apex/com.android.nfcservices/lib64/libnfc_nci_jni.so (HciEventManager::initialize(nfc_jni_native_data*)+195) (BuildId: 57ecf71546d5d1bffde15491e8454395) \n       #07 pc 000000000010f7b6  /apex/com.android.nfcservices/lib64/libnfc_nci_jni.so (android::nfcManager_doInitialize(_JNIEnv*, _jobject*)+886) (BuildId: 57ecf71546d5d1bffde15491e8454395) \n       #08 pc 00000000000a3a33  /system/framework/x86_64/boot.oat (art_jni_trampoline+131) (BuildId: 5e51b82f74e5c8e0f67181848aa289eb09f2d5f1) \n       #09 pc 00000000002097ed  /apex/com.android.art/lib64/libart.so (nterp_helper+3837) (BuildId: ac3bcc8b3c3750d9e8d6a4095fd59a44) \n       #10 pc 0000000000111164  /apex/com.android.nfcservices/priv-app/NfcNciApex@MAIN/NfcNciApex.apk (com.android.nfc.dhimpl.NativeNfcManager.initialize+0) \n       #11 pc 000000000020a4e5  /apex/com.android.art/lib64/libart.so (nterp_helper+7157) (BuildId: ac3bcc8b3c3750d9e8d6a4095fd59a44) \n       #12 pc 00000000000f1bfa  /apex/com.android.nfcservices/priv-app/NfcNciApex@MAIN/NfcNciApex.apk (com.android.nfc.NfcService$EnableDisableTask.enableInternal+334) \n       #13 pc 0000000000209788  /apex/com.android.art/lib64/libart.so (nterp_helper+3736) (BuildId: ac3bcc8b3c3750d9e8d6a4095fd59a44) \n       #14 pc 00000000000f2094  /apex/com.android.nfcservices/priv-app/NfcNciApex@MAIN/NfcNciApex.apk (com.android.nfc.NfcService$EnableDisableTask.doInBackground+272) \n       #15 pc 0000000000209788  /apex/com.android.art/lib64/libart.so (nterp_helper+3736) (BuildId: ac3bcc8b3c3750d9e8d6a4095fd59a44) \n       #16 pc 00000000000f2238  /apex/com.android.nfcservices/priv-app/NfcNciApex@MAIN/NfcNciApex.apk (com.android.nfc.NfcService$EnableDisableTask.doInBackground+4) \n       #17 pc 0000000000518d4c  /system/framework/x86_64/boot-framework.oat (android.os.AsyncTask$3.call+156) (BuildId: a4cce1748c5a99d04aa6f64b38753b6b4e74d90d) \n       #18 pc 0000000000220650  /system/framework/x86_64/boot.oat (java.util.concurrent.FutureTask.run+176) (BuildId: 5e51b82f74e5c8e0f67181848aa289eb09f2d5f1) \n       #19 pc 000000000051b578  /system/framework/x86_64/boot-framework.oat (android.os.AsyncTask$SerialExecutor$1.run+72) (BuildId: a4cce1748c5a99d04aa6f64b38753b6b4e74d90d) \n       #20 pc 000000000022b371  /system/framework/x86_64/boot.oat (java.util.concurrent.ThreadPoolExecutor.runWorker+769) (BuildId: 5e51b82f74e5c8e0f67181848aa289eb09f2d5f1) \n       #21 pc 000000000023062b  /system/framework/x86_64/boot.oat (java.util.concurrent.ThreadPoolExecutor$Worker.run+59) (BuildId: 5e51b82f74e5c8e0f67181848aa289eb09f2d5f1) \n       #22 pc 00000000000b581a  /system/framework/x86_64/boot.oat (java.lang.Thread.run+74) (BuildId: 5e51b82f74e5c8e0f67181848aa289eb09f2d5f1) \n       #23 pc 0000000000211e44  /apex/com.android.art/lib64/libart.so (art_quick_invoke_stub+756) (BuildId: ac3bcc8b3c3750d9e8d6a4095fd59a44) \n       #24 pc 0000000000550105  /apex/com.android.art/lib64/libart.so (art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)+181) (BuildId: ac3bcc8b3c3750d9e8d6a4095fd59a44) \n       #25 pc 0000000000993a2a  /apex/com.android.art/lib64/libart.so (art::Thread::CreateCallback(void*)+1338) (BuildId: ac3bcc8b3c3750d9e8d6a4095fd59a44) \n       #26 pc 00000000009934e8  /apex/com.android.art/lib64/libart.so (art::Thread::CreateCallbackWithUffdGc(void*)+8) (BuildId: ac3bcc8b3c3750d9e8d6a4095fd59a44) \n       #27 pc 000000000006a332  /apex/com.android.runtime/lib64/bionic/libc.so (__pthread_start(void*)+66) (BuildId: 4b8bcb3cb83660bd5eb57accf08947e0) \n       #28 pc 000000000005d0dd  /apex/com.android.runtime/lib64/bionic/libc.so (__start_thread+61) (BuildId: 4b8bcb3cb83660bd5eb57accf08947e0) \n```",
      "revId": "ee61e241cc62fda3a6f4428fec99ec6259c96171",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}