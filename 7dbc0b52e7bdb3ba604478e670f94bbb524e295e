{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3668a5b5_66b30a1d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-26T14:08:02Z",
      "side": 1,
      "message": "Two overall comments:\n- Comment 1) License headers are missing\n- Comment 2) What would be the relationship between `/system/nfc/src/rust/rootcanal`? I thought that `casimir` would implement the existing `rootcanal`. Could you confirm? The `rootcanal` seems to be only used for testing purpose, so replacing `rootcanal` with `casimir` seems to be a good initial test.",
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5743172e_bf0a047d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1884477
      },
      "writtenOn": "2023-07-28T07:19:42Z",
      "side": 1,
      "message": "As far as I can tell nfc/rootcanal is not used at all: https://source.corp.google.com/search?q\u003dnfc_rootcanal.\n\nWill update the license headers üëç",
      "parentUuid": "3668a5b5_66b30a1d",
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "129d0639_8a2b51a9",
        "filename": "tools/casimir/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 12,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-26T14:08:02Z",
      "side": 1,
      "message": "Q) what is this?",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 12,
        "endChar": 20
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82618c67_2eda010a",
        "filename": "tools/casimir/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 12,
      "author": {
        "id": 1884477
      },
      "writtenOn": "2023-07-26T14:27:40Z",
      "side": 1,
      "message": "It is the rust edition, same as the field in Cargo.toml\nUpdated to 2021 to match the other version.",
      "parentUuid": "129d0639_8a2b51a9",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 12,
        "endChar": 20
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "47dfd6b7_3f4147d8",
        "filename": "tools/casimir/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 12,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-28T02:26:35Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "82618c67_2eda010a",
      "range": {
        "startLine": 12,
        "startChar": 4,
        "endLine": 12,
        "endChar": 20
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b36e4ed_44203623",
        "filename": "tools/casimir/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-26T14:08:02Z",
      "side": 1,
      "message": "Q) Is it necessary?",
      "range": {
        "startLine": 13,
        "startChar": 4,
        "endLine": 13,
        "endChar": 27
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ac01b363_a5d3ddee",
        "filename": "tools/casimir/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1884477
      },
      "writtenOn": "2023-07-26T14:27:40Z",
      "side": 1,
      "message": "I think it is to include it in the cuttlefish image.",
      "parentUuid": "4b36e4ed_44203623",
      "range": {
        "startLine": 13,
        "startChar": 4,
        "endLine": 13,
        "endChar": 27
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "40255122_e015cdc0",
        "filename": "tools/casimir/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-28T02:26:35Z",
      "side": 1,
      "message": "Could you remove and try build? IIUC, this is required for tools/libraries that are required for building `vendor.img`, so should not be necessary for host tool.",
      "parentUuid": "ac01b363_a5d3ddee",
      "range": {
        "startLine": 13,
        "startChar": 4,
        "endLine": 13,
        "endChar": 27
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "44602c4a_db66b62d",
        "filename": "tools/casimir/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-26T14:08:02Z",
      "side": 1,
      "message": "remove one of the empty line.",
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f528a4d6_c9786d5d",
        "filename": "tools/casimir/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 1884477
      },
      "writtenOn": "2023-07-26T14:27:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "44602c4a_db66b62d",
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b590acc_707592f7",
        "filename": "tools/casimir/Cargo.toml",
        "patchSetId": 3
      },
      "lineNbr": 4,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-26T14:08:02Z",
      "side": 1,
      "message": "2023?",
      "range": {
        "startLine": 4,
        "startChar": 11,
        "endLine": 4,
        "endChar": 15
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "014ac2ac_c62ff250",
        "filename": "tools/casimir/Cargo.toml",
        "patchSetId": 3
      },
      "lineNbr": 4,
      "author": {
        "id": 1884477
      },
      "writtenOn": "2023-07-26T14:27:40Z",
      "side": 1,
      "message": "The current default is 2021",
      "parentUuid": "6b590acc_707592f7",
      "range": {
        "startLine": 4,
        "startChar": 11,
        "endLine": 4,
        "endChar": 15
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d678b087_1fc3e3e6",
        "filename": "tools/casimir/Cargo.toml",
        "patchSetId": 3
      },
      "lineNbr": 4,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-28T02:26:35Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "014ac2ac_c62ff250",
      "range": {
        "startLine": 4,
        "startChar": 11,
        "endLine": 4,
        "endChar": 15
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0950768d_623609f8",
        "filename": "tools/casimir/README.md",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-26T14:08:02Z",
      "side": 1,
      "message": "nit; also mention about `pldc` dependency for building?",
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "25828d56_023c7e3d",
        "filename": "tools/casimir/README.md",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 1884477
      },
      "writtenOn": "2023-07-26T14:27:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0950768d_623609f8",
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ebfda6ea_4110f6c4",
        "filename": "tools/casimir/build.rs",
        "patchSetId": 3
      },
      "lineNbr": 2,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-26T14:08:02Z",
      "side": 1,
      "message": "2023",
      "range": {
        "startLine": 2,
        "startChar": 14,
        "endLine": 2,
        "endChar": 19
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f0f6ea07_591f49bd",
        "filename": "tools/casimir/build.rs",
        "patchSetId": 3
      },
      "lineNbr": 2,
      "author": {
        "id": 1884477
      },
      "writtenOn": "2023-07-26T14:27:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ebfda6ea_4110f6c4",
      "range": {
        "startLine": 2,
        "startChar": 14,
        "endLine": 2,
        "endChar": 19
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57af06c7_0f0c93b4",
        "filename": "tools/casimir/src/controller.rs",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-26T14:08:02Z",
      "side": 1,
      "message": "Q) why do we need all of these? Can we just use `\u0026impl Packet`?\n\nHere\u0027s code snippet from generated code.\n```\npub trait Packet {\n  fn to_bytes(self) -\u003e Bytes;\n  fn to_vec(self) -\u003e Vec\u003cu8\u003e;\n}\n```",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 75,
        "endChar": 0
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26ea8c8d_2f26a4b3",
        "filename": "tools/casimir/src/controller.rs",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 1884477
      },
      "writtenOn": "2023-07-26T14:27:40Z",
      "side": 1,
      "message": "Can you clarify your comment ?\nWhat specifically are you referring to ?",
      "parentUuid": "57af06c7_0f0c93b4",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 75,
        "endChar": 0
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "01b6c0f5_0a9aa53f",
        "filename": "tools/casimir/src/controller.rs",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-28T02:26:35Z",
      "side": 1,
      "message": "I\u0027m proposing to merge `send_control()`, `send_data()`, `send_rf()` and make `send()` instead as follows.\n\n```\nasync fn send(\u0026mut self, packet: impl nci::Packet) -\u003e Result\u003c()\u003e {\n  self.nci_writer.write(\u0026packet.into().to_vec()).await\n}\n```\n\nFYI, you can see generated code from `out/soong/.intermediates`. Here\u0027s the link to the genrated `nci_packets.rs`: `out/soong/.intermediates/system/nfc/tools/casimir/casimir/linux_glibc_x86_64/out/nci_packets.rs`",
      "parentUuid": "26ea8c8d_2f26a4b3",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 75,
        "endChar": 0
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "24855d81_40eaec78",
        "filename": "tools/casimir/src/controller.rs",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 1884477
      },
      "writtenOn": "2023-07-28T06:56:56Z",
      "side": 1,
      "message": "send_control() and send_data() _could_ be merged as they are sending to the same channel; send_rf() is sending to a different interface",
      "parentUuid": "01b6c0f5_0a9aa53f",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 75,
        "endChar": 0
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8492cff9_9db0e811",
        "filename": "tools/casimir/src/controller.rs",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-28T07:07:29Z",
      "side": 1,
      "message": "Question) What does \u0027different interface\u0027 mean? I thought that RF packets is just a special format of a control packets, and it would also be sent via the virtio-console device with NCI packets. Correct me if I\u0027m wrong.",
      "parentUuid": "24855d81_40eaec78",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 75,
        "endChar": 0
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "529604db_e0555aed",
        "filename": "tools/casimir/src/controller.rs",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 1884477
      },
      "writtenOn": "2023-07-28T07:17:02Z",
      "side": 1,
      "message": "RF packet will represent the internal protocol for emulating packets exchanged over RF; currently it is only a placeholder. See https://cs.android.com/android/platform/superproject/+/master:packages/modules/Bluetooth/tools/rootcanal/packets/link_layer_packets.pdl for Bluetooth",
      "parentUuid": "8492cff9_9db0e811",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 75,
        "endChar": 0
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2243562c_2a9d1092",
        "filename": "tools/casimir/src/main.rs",
        "patchSetId": 3
      },
      "lineNbr": 47,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-26T14:08:02Z",
      "side": 1,
      "message": "`vec![u8; 3]`?",
      "range": {
        "startLine": 47,
        "startChar": 39,
        "endLine": 47,
        "endChar": 46
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "492226f6_cc8b6b76",
        "filename": "tools/casimir/src/main.rs",
        "patchSetId": 3
      },
      "lineNbr": 47,
      "author": {
        "id": 1884477
      },
      "writtenOn": "2023-07-26T14:27:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2243562c_2a9d1092",
      "range": {
        "startLine": 47,
        "startChar": 39,
        "endLine": 47,
        "endChar": 46
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb4b9202_cc3e1332",
        "filename": "tools/casimir/src/main.rs",
        "patchSetId": 3
      },
      "lineNbr": 96,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2023-07-26T14:08:02Z",
      "side": 1,
      "message": "give readable name",
      "range": {
        "startLine": 96,
        "startChar": 32,
        "endLine": 96,
        "endChar": 36
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3e4a4f34_67df527f",
        "filename": "tools/casimir/src/main.rs",
        "patchSetId": 3
      },
      "lineNbr": 96,
      "author": {
        "id": 1884477
      },
      "writtenOn": "2023-07-26T14:27:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bb4b9202_cc3e1332",
      "range": {
        "startLine": 96,
        "startChar": 32,
        "endLine": 96,
        "endChar": 36
      },
      "revId": "7dbc0b52e7bdb3ba604478e670f94bbb524e295e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}